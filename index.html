<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SAP Business One Freelancer · SAP FSM CRD — Add‑ons, Reporting, Integrations</title>
  <meta name="description" content="Freelance SAP Business One & SAP FSM developer: SAP B1 add‑ons (SDK, UI/DI API), Company integrations/data exchange, Crystal Reports, coresuite Country Package, Boyum, SQL for B1, FSM CRD dashboards, FSM checklist XML → B1 mapping & mass invoicing. EN/DE/AR" />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="SAP Business One Freelancer, SAP B1 SDK, DI API, UI API, Company integrations, data exchange, CSV XML, SFTP, Crystal Reports, coresuite Country Package, Boyum, SAP FSM, CRD, SQL for SAP B1, FSM checklist XML, mass invoicing, batch processing" />
  <meta name="theme-color" content="#0ea5e9" />

  <!-- Open Graph / Twitter SEO -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SAP Business One Freelancer · SAP FSM CRD — Add‑ons, Reporting, Integrations" />
  <meta property="og:description" content="SAP B1 add‑ons (SDK), company integrations, Crystal/coresuite/Boyum, SQL, and SAP FSM CRD dashboards. EN/DE/AR." />
  <meta property="og:site_name" content="B1 • FSM — Freelance" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:locale:alternate" content="de_DE" />
  <meta property="og:locale:alternate" content="ar_AR" />
  <meta property="og:image" content="og-image.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="og-image.png" />
  <link id="canonical" rel="canonical" href="" />
  <link rel="alternate" hreflang="en" href="?lang=en" />
  <link rel="alternate" hreflang="de" href="?lang=de" />
  <link rel="alternate" hreflang="ar" href="?lang=ar" />
  <link rel="alternate" hreflang="x-default" href="?lang=en" />
  <link rel="alternate" hreflang="zh-CN" href="?lang=zh-CN" />

 <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"%3E%3Cdefs%3E%3ClinearGradient id="g1" x1="0" y1="0" x2="1" y2="1"%3E%3Cstop offset="0" stop-color="%230a6ed1"/%3E%3Cstop offset="1" stop-color="%232d8ff0"/%3E%3C/linearGradient%3E%3ClinearGradient id="g2" x1="1" y1="0" x2="0" y2="1"%3E%3Cstop offset="0" stop-color="%23ffcc00"/%3E%3Cstop offset="1" stop-color="%23ffde66"/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx="32" cy="32" r="30" fill="%230b2745" stroke="rgba(255,255,255,.25)" stroke-width="2"/%3E%3Cpath d="M32 6A26 26 0 0 0 8.3 21.3c5.2-3.7 11.5-5.8 18-5.8 12.8 0 23.5 8.5 26.2 20.1 2.3-2.8 3.6-6.3 3.6-10.2C56.1 14.3 45.2 6 32 6z" fill="url(%23g1)"/%3E%3Cpath d="M32 58A26 26 0 0 0 55.7 42.7c-5.2 3.7-11.5 5.8-18 5.8-12.8 0-23.5-8.5-26.2-20.1-2.3 2.8-3.6 6.3-3.6 10.2C7.9 49.7 18.8 58 32 58z" fill="url(%23g2)"/%3E%3Ccircle cx="22" cy="24" r="3.2" fill="%23fff" opacity=".95"/%3E%3Ccircle cx="42" cy="40" r="3.2" fill="%2303121f" opacity=".9"/%3E%3C/svg%3E' />


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ProfessionalService",
    "name": "B1 • FSM — Freelance",
    "areaServed": "DE",
    "availableLanguage": ["en", "de", "ar", "zh-CN"],
    "sameAs": [
      "https://www.freelancermap.de/profil/mhd-tarek-fatal",
      "https://www.linkedin.com/in/tarek-fatal-3a1000111/"
    ],
    "contactPoint": [{
      "@type": "ContactPoint",
      "contactType": "customer support",
      "email": "SAPB1.Tarek.Fatal@outlook.com"
    }],
    "serviceType": [
      "SAP Business One Add-ons (SDK)",
      "Company integrations / data exchange",
      "Crystal Reports / coresuite / Boyum",
      "coresuite Country Package",
      "SQL for SAP B1",
      "SAP FSM Cloud Reporting & Dashboards (CRD)",
      "FSM checklist XML → SAP B1 & invoicing (bulk)",
      "Training / Workshops"
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {"@type": "Question","name": "Do you handle company/system integrations for SAP B1?","acceptedAnswer": {"@type": "Answer","text": "Yes. CSV/XML imports/exports, SFTP jobs, mapping tables to UDFs/tables, and safe batch processing with logging and retries."}},
      {"@type": "Question","name": "Do you work with the coresuite Country Package?","acceptedAnswer": {"@type": "Answer","text": "Yes. Layouts, print profiles, script adjustments, and report customization for coresuite Country Package."}},
      {"@type": "Question","name": "Can you map FSM checklist XML into B1 and mass‑invoice?","acceptedAnswer": {"@type": "Answer","text": "Yes. I parse checklist XML into UDFs/tables, map values to documents, and generate invoices with batch processing."}},
      {"@type": "Question","name": "What SAP B1 work do you cover?","acceptedAnswer": {"@type": "Answer","text": "Add-ons with SDK (UI/DI API), Crystal Reports, coresuite/Boyum printouts, SQL queries and data models."}},
      {"@type": "Question","name": "Do you provide training?","acceptedAnswer": {"@type": "Answer","text": "Yes. User training and short workshops for SAP B1 basics, Crystal Reports, and FSM CRD dashboards."}},
      {"@type": "Question","name": "Do you work remotely and in which languages?","acceptedAnswer": {"@type": "Answer","text": "Yes, remote across Germany/EU. I work in English, German, and Arabic."}}
    ]
  }
  </script>

  <style>
    :root{ 
      --sap-blue:#0a6ed1; --sap-gold:#ffcc00; --sap-dark:#071a2e;
      --bg:#071a2e; --panel:#0b2745; --text:#f4f8ff; --muted:#b8c7db; --brand:var(--sap-blue);
      --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.25); 
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Arial,sans-serif; color:var(--text); background:var(--bg);
      background-image: radial-gradient(1200px 600px at 10% -10%, rgba(10,110,209,.22), transparent 60%),
                        radial-gradient(900px 500px at 110% 10%, rgba(255,204,0,.18), transparent 55%);
      animation:bgFloat 16s linear infinite;
    }
    @keyframes bgFloat{0%{background-position:0 0,0 0}100%{background-position:300px 0,-300px 0}}
    body[dir="rtl"]{font-family:Cairo, Inter, system-ui, Segoe UI, Arial, sans-serif}
    html[lang="zh-CN"] body{font-family:system-ui,-apple-system,"PingFang SC","Microsoft YaHei","Noto Sans SC",Arial,sans-serif}
    a{color:var(--brand); text-decoration:none; cursor:pointer}

    .wrap{max-width:1024px; margin:0 auto; padding:0 18px}
    header{position:sticky; top:0; z-index:10; backdrop-filter:blur(8px); background:rgba(7,26,46,.85); border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex; align-items:center; justify-content:space-between; height:72px}
    .brand{display:flex; align-items:center; gap:12px; font-weight:700}
    .brand-logo{height:28px; width:auto; display:none; filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
    .logo-fallback{display:inline-flex; padding:6px 10px; border-radius:10px; background:linear-gradient(135deg, rgba(10,110,209,.25), rgba(10,110,209,.45)); border:1px solid rgba(255,255,255,.12)}

    nav{display:flex; align-items:center; gap:12px}
    .btn{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:12px; font-weight:700; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.05); transition:transform .12s ease, box-shadow .12s ease, background .2s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(135deg, var(--sap-blue), #2d8ff0); color:#03121f}
    .btn.primary:hover{box-shadow:0 0 0 .15rem rgba(10,110,209,.35)}

    .lang{display:flex; gap:6px; align-items:center}
    .lang button{all:unset; padding:6px 10px; border:1px solid rgba(255,255,255,.12); border-radius:999px; cursor:pointer}
    .lang button.active{background:rgba(255,255,255,.12)}

    .hero{padding:72px 0 56px}
    h1{font-size:clamp(28px,5vw,44px); line-height:1.15; margin:.4rem 0 1rem}
    .lead{color:var(--muted); font-size:clamp(16px,2vw,18px)}
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:18px}

    .brand-chips{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:600; background:rgba(10,110,209,.18); border:1px solid rgba(10,110,209,.35)}
    .chip.gold{background:rgba(255,204,0,.18); border-color:rgba(255,204,0,.4); color:#fff}

    section{padding:48px 0}
    .title{font-size:22px; margin:0 0 16px}

    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:14px}
    .card{grid-column:span 6; background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); opacity:0; transform:translateY(12px); transition:opacity .5s ease, transform .5s ease}
    .card.in{opacity:1; transform:none}
    .card h3{margin:.2rem 0 .4rem}
    .muted{color:var(--muted)}

    footer{border-top:1px solid rgba(255,255,255,.08); padding:26px 0 40px; color:#c6d3e6}
    .social{display:flex; gap:14px}

    @media (max-width:780px){ .grid .card{grid-column:span 12} }
  </style>
  <style>
    /* Mobile sticky CTA */
    .sticky-cta{position:fixed; right:12px; bottom:12px; z-index:20}
    .sticky-cta .btn{box-shadow:0 10px 20px rgba(10,110,209,.35)}
    @media(min-width:781px){.sticky-cta{display:none}}
    /* Inquiry template styles */
    .card textarea{width:100%; min-height:220px; border-radius:12px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.03); color:var(--text); padding:12px; resize:vertical}
    .card .cta{margin-top:12px}
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <!-- Optional SAP B1 logo: place a file named sap-b1-logo.png next to index.html -->

      <svg class="brand-logo-svg" viewBox="0 0 64 64" aria-label="B1 • FSM logo" role="img">
        <defs>
          <linearGradient id="gBlue" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#0a6ed1"/><stop offset="1" stop-color="#2d8ff0"/>
          </linearGradient>
          <linearGradient id="gGold" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffcc00"/><stop offset="1" stop-color="#ffde66"/>
          </linearGradient>
        </defs>
        <circle cx="32" cy="32" r="30" fill="#0b2745" stroke="rgba(255,255,255,.25)" stroke-width="2"/>
        <path d="M32 6A26 26 0 0 0 8.3 21.3c5.2-3.7 11.5-5.8 18-5.8 12.8 0 23.5 8.5 26.2 20.1 2.3-2.8 3.6-6.3 3.6-10.2C56.1 14.3 45.2 6 32 6z" fill="url(#gBlue)"/>
        <path d="M32 58A26 26 0 0 0 55.7 42.7c-5.2 3.7-11.5 5.8-18 5.8-12.8 0-23.5-8.5-26.2-20.1-2.3 2.8-3.6 6.3-3.6 10.2C7.9 49.7 18.8 58 32 58z" fill="url(#gGold)"/>
        <circle cx="22" cy="24" r="3.2" fill="#ffffff" opacity=".95"/>
        <circle cx="42" cy="40" r="3.2" fill="#03121f" opacity=".9"/>
      </svg>
      <span class="logo-fallback" style="display:none">B1 • FSM</span>

      </div>
      <nav>
        <div class="lang" aria-label="Language switcher">
          <button data-lang="en" class="active">EN</button>
          <button data-lang="de">DE</button>
          <button data-lang="ar">AR</button>
          <button data-lang="zh-CN">ZH</button>
        </div>
        <a class="btn" href="#services" data-i18n="nav_services">Services</a>
        <a class="btn" href="#process" data-i18n="nav_process">Process</a>
        <a class="btn" href="#faq" data-i18n="nav_faq">FAQ</a>
        <a class="btn" href="#contact" data-i18n="nav_contact">Contact</a>
        <a class="btn primary" href="mailto:SAPB1.Tarek.Fatal@outlook.com?subject=SAP%20B1%20%2F%20FSM%20Inquiry" rel="external noopener"><i class="fa-solid fa-envelope"></i><span data-i18n="btn_email">Email</span></a>
        <a class="btn" href="https://www.freelancermap.de/profil/mhd-tarek-fatal" target="_blank" rel="noopener noreferrer">freelancermap</a>
        <a class="btn" href="https://www.linkedin.com/in/tarek-fatal-3a1000111/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <p class="muted" data-i18n="tagline">SAP Business One · SAP Field Service Management</p>
        <h1 data-i18n="headline">SAP B1 + FSM Freelancer</h1>
        <p class="lead" data-i18n="lead">Add‑ons (SDK) in C#/.NET with UI API & DI API · <strong>Company integrations / data exchange</strong> · SQL queries · Crystal Reports · coresuite & Boyum · FSM Cloud Reporting & Dashboards (CRD).</p>
        <div class="brand-chips">
          <span class="chip"><i class="fa-solid fa-square"></i> SAP Business One</span>
          <span class="chip gold"><i class="fa-solid fa-chart-column"></i> Crystal / coresuite / Boyum</span>
          <span class="chip"><i class="fa-solid fa-mobile-screen"></i> SAP FSM · CRD</span>
        </div>
        <div class="cta">
          <a class="btn primary" href="mailto:SAPB1.Tarek.Fatal@outlook.com?subject=SAP%20B1%20%2F%20FSM%20Inquiry" rel="external noopener"><i class="fa-solid fa-paper-plane"></i><span data-i18n="btn_contact">Email me</span></a>
          <a class="btn" href="https://www.freelancermap.de/profil/mhd-tarek-fatal" target="_blank" rel="noopener noreferrer"><i class="fa-solid fa-id-card"></i>freelancermap</a>
          <a class="btn" href="https://www.linkedin.com/in/tarek-fatal-3a1000111/" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-linkedin"></i>LinkedIn</a>
        </div>
      </div>
    </section>

    <section id="services">
      <div class="wrap">
        <h2 class="title" data-i18n="services_title">Services</h2>
        <div class="grid">
          <article class="card">
            <h3><i class="fa-solid fa-code"></i> <span data-i18n="svc1_title">Add‑ons (SDK)</span></h3>
            <p class="muted" data-i18n="svc1_desc">C#/.NET with UI API & DI API · clean UX, validations, background jobs, safe COM handling.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-arrows-rotate"></i> <span data-i18n="svc2a_title">Company Integrations</span></h3>
            <p class="muted" data-i18n="svc2a_desc">CSV/XML imports & exports, SFTP jobs, mapping to UDFs/tables, and safe batch processing with logs/retries.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-chart-line"></i> <span data-i18n="svc2_title">Reporting</span></h3>
            <p class="muted" data-i18n="svc2_desc">Crystal Reports for SAP Business One · coresuite reports · Boyum printouts.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-database"></i> <span data-i18n="svc3_title">SQL</span></h3>
            <p class="muted" data-i18n="svc3_desc">Queries, views and performance‑friendly data models for B1 documents.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-gauge-high"></i> <span data-i18n="svc4_title">FSM (CRD)</span></h3>
            <p class="muted" data-i18n="svc4_desc">SAP FSM Cloud Reporting & Dashboards (CRD) and checklist configuration.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-headset"></i> <span data-i18n="svc5_title">Support</span></h3>
            <p class="muted" data-i18n="svc5_desc">1st & 2nd level support for SAP B1 users · troubleshooting and documentation.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-chalkboard-user"></i> <span data-i18n="svc6_title">Training / Workshops</span></h3>
            <p class="muted" data-i18n="svc6_desc">User training for SAP B1 basics, Crystal Reports usage, and FSM CRD dashboards (EN/DE/AR).</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-globe"></i> <span data-i18n="svc7_title">coresuite Country Package</span></h3>
            <p class="muted" data-i18n="svc7_desc">Layouts & print profiles, script tweaks, and report customization for coresuite Country Package.</p>
          </article>
          <article class="card">
            <h3><i class="fa-solid fa-file-code"></i> <span data-i18n="svc8_title">FSM Checklist XML → B1 & Invoicing</span></h3>
            <p class="muted" data-i18n="svc8_desc">Parse checklist XML to UDFs/tables, map values into documents, and generate invoices — supports mass/batch processing.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Process -->
    <section id="process">
      <div class="wrap">
        <h2 class="title" data-i18n="process_title">Process</h2>
        <div class="grid">
          <article class="card"><h3 data-i18n="p1_title">1) Discover & Scope</h3><p class="muted" data-i18n="p1_desc">Short call & sample files; define target docs/UDFs, volume, and timeline.</p></article>
          <article class="card"><h3 data-i18n="p2_title">2) Map & Design</h3><p class="muted" data-i18n="p2_desc">Field mapping, validation rules, and staging tables/views for safe loads.</p></article>
          <article class="card"><h3 data-i18n="p3_title">3) Build & Test</h3><p class="muted" data-i18n="p3_desc">Implement SDK/queries/reports; run test batches with logs and rollback options.</p></article>
          <article class="card"><h3 data-i18n="p4_title">4) Deploy & Monitor</h3><p class="muted" data-i18n="p4_desc">Schedule batch jobs (SFTP/CSV/XML), handover docs, and support.</p></article>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div class="wrap">
        <h2 class="title" data-i18n="faq_title">FAQ</h2>
        <div class="grid">
          <article class="card">
            <details open>
              <summary><strong data-i18n="faq_q_int">Do you handle company/system integrations for SAP B1?</strong></summary>
              <p class="muted" data-i18n="faq_a_int">Yes. CSV/XML imports/exports, SFTP jobs, mapping to UDFs/tables, and safe batch processing with logging and retries.</p>
            </details>
          </article>
          <article class="card">
            <details>
              <summary><strong data-i18n="faq_q4">Do you work with the coresuite Country Package?</strong></summary>
              <p class="muted" data-i18n="faq_a4">Yes. Layouts, print profiles, script adjustments, and report customization for coresuite Country Package.</p>
            </details>
          </article>
          <article class="card">
            <details>
              <summary><strong data-i18n="faq_q5">Can you map FSM checklist XML into B1 and mass‑invoice?</strong></summary>
              <p class="muted" data-i18n="faq_a5">Yes. I parse checklist XML into UDFs/tables, map values to documents, and generate invoices with batch processing.</p>
            </details>
          </article>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="wrap">
        <h2 class="title" data-i18n="contact_title">Contact</h2>
        <div class="cta">
          <a class="btn primary" href="mailto:SAPB1.Tarek.Fatal@outlook.com?subject=SAP%20B1%20%2F%20FSM%20Inquiry" rel="external noopener"><i class="fa-solid fa-envelope"></i><span data-i18n="btn_email">Email</span></a>
          <a class="btn" href="https://www.freelancermap.de/profil/mhd-tarek-fatal" target="_blank" rel="noopener noreferrer"><i class="fa-solid fa-id-card"></i>freelancermap</a>
          <a class="btn" href="https://www.linkedin.com/in/tarek-fatal-3a1000111/" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-linkedin"></i>LinkedIn</a>
        </div>
        <p class="muted" style="margin-top:10px" data-i18n="disclaimer">Independent — not affiliated with SAP SE.</p>

        <div class="grid" style="margin-top:18px">
          <article class="card">
            <h3><i class="fa-solid fa-envelope-open-text"></i> <span data-i18n="template_title">Inquiry Email Template</span></h3>
            <p class="muted" data-i18n="template_hint">Copy this and fill the details, or open a prefilled email.</p>
            <textarea id="inq-template" readonly></textarea>
            <div class="cta">
              <button class="btn" id="copy-template" type="button"><i class="fa-regular fa-copy"></i> <span data-i18n="template_copy_btn">Copy</span></button>
              <a class="btn primary" id="mailto-prefill" data-mailto="true" href="mailto:SAPB1.Tarek.Fatal@outlook.com?subject=SAP%20B1%20%2F%20FSM%20Inquiry"><i class="fa-solid fa-paper-plane"></i> <span data-i18n="template_mail_btn">Open prefilled email</span></a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <div class="sticky-cta">
      <a class="btn primary" href="mailto:SAPB1.Tarek.Fatal@outlook.com?subject=SAP%20B1%20%2F%20FSM%20Inquiry"><i class="fa-solid fa-paper-plane"></i><span data-i18n="btn_contact">Email me</span></a>
    </div>
  </main>

  <footer>
    <div class="wrap" style="display:flex; align-items:center; justify-content:space-between; gap:14px; flex-wrap:wrap">
      <p>© <span id="year"></span> B1 • FSM — Freelance</p>
      <div class="social">
        <a href="https://www.freelancermap.de/profil/mhd-tarek-fatal" target="_blank" rel="noopener noreferrer" aria-label="freelancermap"><i class="fa-solid fa-id-card"></i></a>
        <a href="https://www.linkedin.com/in/tarek-fatal-3a1000111/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Canonical without query/hash
    const canon = location.origin + location.pathname;
    const $can = document.getElementById('canonical');
    if($can) $can.href = canon;

    // Logo fallback: show badge until image loads successfully
    const logoEl = document.querySelector('.brand-logo');
    if(logoEl){
      logoEl.addEventListener('load', ()=>{
        logoEl.style.display = 'inline-block';
        const fb = logoEl.nextElementSibling; if(fb) fb.style.display = 'none';
      });
    }

    // Reveal-on-scroll for cards
    const io = new IntersectionObserver(entries=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); } });
    },{threshold:.12});
    document.querySelectorAll('.card').forEach(el=> io.observe(el));

    // i18n dictionary
    const t = {
      en: {
        nav_services:'Services', nav_process:'Process', nav_faq:'FAQ', nav_contact:'Contact',
        tagline:'SAP Business One · SAP Field Service Management',
        headline:'SAP B1 + FSM Freelancer',
        lead:'Add‑ons (SDK) in C#/.NET with UI API & DI API · Company integrations / data exchange · SQL queries · Crystal Reports · coresuite & Boyum · FSM Cloud Reporting & Dashboards (CRD).',
        btn_contact:'Email me', btn_email:'Email',
        services_title:'Services',
        svc1_title:'Add‑ons (SDK)',
        svc1_desc:'C#/.NET with UI API & DI API · clean UX, validations, background jobs, safe COM handling.',
        svc2a_title:'Company Integrations',
        svc2a_desc:'CSV/XML imports & exports, SFTP jobs, mapping to UDFs/tables, and safe batch processing with logs/retries.',
        svc2_title:'Reporting',
        svc2_desc:'Crystal Reports for SAP Business One · coresuite reports · Boyum printouts.',
        svc3_title:'SQL',
        svc3_desc:'Queries, views and performance‑friendly data models for B1 documents.',
        svc4_title:'FSM (CRD)',
        svc4_desc:'SAP FSM Cloud Reporting & Dashboards (CRD) and checklist configuration.',
        svc5_title:'Support',
        svc5_desc:'1st & 2nd level support for SAP B1 users · troubleshooting and documentation.',
        svc6_title:'Training / Workshops',
        svc6_desc:'User training for SAP B1 basics, Crystal Reports usage, and FSM CRD dashboards (EN/DE/AR).',
        svc7_title:'coresuite Country Package',
        svc7_desc:'Layouts & print profiles, script tweaks, and report customization for coresuite Country Package.',
        svc8_title:'FSM Checklist XML → B1 & Invoicing',
        svc8_desc:'Parse checklist XML to UDFs/tables, map values into documents, and generate invoices — supports mass/batch processing.',
        process_title:'Process',
        p1_title:'1) Discover & Scope', p1_desc:'Short call & sample files; define target docs/UDFs, volume, and timeline.',
        p2_title:'2) Map & Design', p2_desc:'Field mapping, validation rules, and staging tables/views for safe loads.',
        p3_title:'3) Build & Test', p3_desc:'Implement SDK/queries/reports; run test batches with logs and rollback options.',
        p4_title:'4) Deploy & Monitor', p4_desc:'Schedule batch jobs (SFTP/CSV/XML), handover docs, and support.',
        faq_title:'FAQ',
        faq_q_int:'Do you handle company/system integrations for SAP B1?',
        faq_a_int:'Yes. CSV/XML imports/exports, SFTP jobs, mapping to UDFs/tables, and safe batch processing with logging and retries.',
        faq_q4:'Do you work with the coresuite Country Package?',
        faq_a4:'Yes. Layouts, print profiles, script adjustments, and report customization for coresuite Country Package.',
        faq_q5:'Can you map FSM checklist XML into B1 and mass‑invoice?',
        faq_a5:'Yes. I parse checklist XML into UDFs/tables, map values to documents, and generate invoices with batch processing.',
        faq_q3:'Do you provide training?',
        faq_a3:'Yes. User training and short workshops for SAP B1 basics, Crystal Reports, and FSM CRD dashboards.',
        faq_q2:'What SAP B1 work do you cover?',
        faq_a2:'Add-ons with SDK (UI/DI API), Crystal Reports, coresuite/Boyum printouts, SQL queries and data models.',
        faq_q1:'Do you work remotely and in which languages?',
        faq_a1:'Yes, remote across Germany/EU. I work in English, German, and Arabic.',
        contact_title:'Contact', disclaimer:'Independent — not affiliated with SAP SE.',
        template_title:'Inquiry Email Template',
        template_hint:'Copy this and fill the details, or open a prefilled email.',
        template_copy_btn:'Copy', template_copied:'Copied!',
        template_mail_btn:'Open prefilled email'
      },
      de: {
        nav_services:'Leistungen', nav_process:'Ablauf', nav_faq:'FAQ', nav_contact:'Kontakt',
        tagline:'SAP Business One · SAP Field Service Management',
        headline:'Freelancer für SAP B1 + FSM',
        lead:'Add‑ons (SDK) mit C#/.NET und UI/DI API · Firmen‑Integrationen / Datenaustausch · SQL‑Abfragen · Crystal Reports · coresuite & Boyum · FSM Cloud Reporting & Dashboards (CRD).',
        btn_contact:'E‑Mail senden', btn_email:'E‑Mail',
        services_title:'Leistungen',
        svc1_title:'Add‑ons (SDK)',
        svc1_desc:'C#/.NET mit UI API & DI API · saubere UX, Validierungen, Hintergrundprozesse, sicheres COM‑Handling.',
        svc2a_title:'Firmen‑Integrationen',
        svc2a_desc:'CSV/XML Import & Export, SFTP‑Jobs, Mapping in UDFs/Tabellen und sichere Massenverarbeitung mit Logs/Retry.',
        svc2_title:'Reporting',
        svc2_desc:'Crystal Reports für SAP Business One · coresuite‑Berichte · Boyum‑Drucke.',
        svc3_title:'SQL',
        svc3_desc:'Abfragen, Views und performante Datenmodelle für B1‑Belege.',
        svc4_title:'FSM (CRD)',
        svc4_desc:'SAP FSM Cloud Reporting & Dashboards (CRD) und Checklisten‑Konfiguration.',
        svc5_title:'Support',
        svc5_desc:'1st & 2nd Level Support für SAP‑B1‑User · Troubleshooting und Dokumentation.',
        svc6_title:'Schulungen / Workshops',
        svc6_desc:'Anwenderschulungen zu SAP B1 Grundlagen, Crystal Reports und FSM‑CRD Dashboards (DE/EN/AR).',
        svc7_title:'coresuite Country Package',
        svc7_desc:'Layouts & Druckprofile, Skript‑Anpassungen und Report‑Customizing für das coresuite Country Package.',
        svc8_title:'FSM‑Checklisten‑XML → B1 & Faktura',
        svc8_desc:'Checklisten‑XML in UDFs/Tabellen einlesen, Werte in Belege mappen und Rechnungen erzeugen — auch als Massenverarbeitung.',
        process_title:'Ablauf',
        p1_title:'1) Klärung & Scope', p1_desc:'Kurzer Call & Beispieldateien; Zielbelege/UDFs, Datenmenge und Zeitplan festlegen.',
        p2_title:'2) Mapping & Design', p2_desc:'Feld‑Mapping, Prüfregeln sowie Staging‑Tabellen/Views für sichere Ladeprozesse.',
        p3_title:'3) Umsetzung & Test', p3_desc:'SDK/Abfragen/Reports implementieren; Test‑Batches mit Logs und Rollback.',
        p4_title:'4) Go‑Live & Monitoring', p4_desc:'Batch‑Jobs (SFTP/CSV/XML) einplanen, Übergabe‑Doku und Support.',
        faq_title:'FAQ',
        faq_q_int:'Übernimmst du Firmen‑/System‑Integrationen für SAP B1?',
        faq_a_int:'Ja. CSV/XML Import/Export, SFTP‑Jobs, Mapping in UDFs/Tabellen sowie sichere Massenverarbeitung mit Logging und Retries.',
        faq_q4:'Arbeitest du mit dem coresuite Country Package?',
        faq_a4:'Ja. Layouts, Druckprofile, Skript‑Anpassungen und Report‑Customizing für das coresuite Country Package.',
        faq_q5:'Kannst du FSM‑Checklisten‑XML nach B1 mappen und Massen‑Faktura erzeugen?',
        faq_a5:'Ja. XML in UDFs/Tabellen einlesen, Werte in Belege mappen und Rechnungen per Batch verarbeiten.',
        faq_q3:'Bietest du Schulungen an?',
        faq_a3:'Ja. Anwenderschulungen und kurze Workshops zu SAP‑B1‑Grundlagen, Crystal Reports und FSM‑CRD.',
        faq_q2:'Welche SAP‑B1‑Leistungen deckst du ab?',
        faq_a2:'Add‑ons mit SDK (UI/DI API), Crystal Reports, coresuite/Boyum‑Drucke, SQL‑Abfragen und Datenmodelle.',
        faq_q1:'Arbeitest du remote und in welchen Sprachen?',
        faq_a1:'Ja, remote in Deutschland/EU. Ich arbeite auf Deutsch, Englisch und Arabisch.',
        contact_title:'Kontakt', disclaimer:'Unabhängig — keine Zugehörigkeit zur SAP SE.',
        template_title:'E‑Mail‑Vorlage für Anfragen',
        template_hint:'Kopiere die Vorlage und fülle sie aus oder öffne eine vorbefüllte E‑Mail.',
        template_copy_btn:'Kopieren', template_copied:'Kopiert!',
        template_mail_btn:'Vorbefüllte E‑Mail öffnen'
      },
      ar: {
        nav_services:'الخدمات', nav_process:'الآلية', nav_faq:'الأسئلة الشائعة', nav_contact:'التواصل',
        tagline:'ساب بزنس ون · إدارة خدمات الميدان (FSM)',
        headline:'مستقل في SAP B1 و FSM',
        lead:'إضافات (SDK) بلغة C#/.NET مع UI API و DI API · تكاملات الشركات / تبادل البيانات · استعلامات SQL · تقارير Crystal · coresuite و Boyum · تقارير ولوحات FSM (CRD).',
        btn_contact:'أرسل بريدًا إلكترونيًا', btn_email:'بريد إلكتروني',
        services_title:'الخدمات',
        svc1_title:'إضافات (SDK)',
        svc1_desc:'C#/.NET مع UI API و DI API · واجهات نظيفة، تحقق من البيانات، مهام خلفية، وتعامل آمن مع COM.',
        svc2a_title:'تكاملات الشركات',
        svc2a_desc:'استيراد/تصدير CSV/XML، مهام SFTP، ربط القيم إلى حقول/جداول، ومعالجة دفعية آمنة مع سجلات وإعادة محاولات.',
        svc2_title:'التقارير',
        svc2_desc:'Crystal Reports لـ SAP Business One · تقارير coresuite · طباعة Boyum.',
        svc3_title:'SQL',
        svc3_desc:'استعلامات وعروض ونماذج بيانات فعّالة لوثائق B1.',
        svc4_title:'FSM (CRD)',
        svc4_desc:'تقارير ولوحات SAP FSM (CRD) وإعداد قوائم التحقق.',
        svc5_title:'الدعم',
        svc5_desc:'دعم المستوى الأول والثاني لمستخدمي SAP B1 · استكشاف الأخطاء والتوثيق.',
        svc6_title:'تدريب / ورش عمل',
        svc6_desc:'تدريب المستخدمين على أساسيات SAP B1 واستخدام Crystal Reports ولوحات FSM‑CRD (عربي/ألماني/إنجليزي).',
        svc7_title:'حزمة البلدان من coresuite',
        svc7_desc:'تصميم النماذج وملفات الطباعة وتعديلات السكربت وتخصيص التقارير لحزمة البلدان من coresuite.',
        svc8_title:'ملفات XML لقوائم FSM → SAP B1 والفوترة',
        svc8_desc:'قراءة XML إلى الحقول/الجداول، ربط القيم بالمستندات، وإنشاء الفواتير — يدعم المعالجة الدُفعية.',
        process_title:'الآلية',
        p1_title:'1) فهم المتطلبات', p1_desc:'مكالمة قصيرة وملفات نموذجية؛ تحديد المستندات/الحقول والكميات والجدول الزمني.',
        p2_title:'2) التخطيط والربط', p2_desc:'خرائط الحقول وقواعد التحقق وجداول/عروض مرحلية للتحميل الآمن.',
        p3_title:'3) التنفيذ والاختبار', p3_desc:'تنفيذ SDK/الاستعلامات/التقارير؛ تشغيل دفعات اختبار مع سجلات وخيارات تراجع.',
        p4_title:'4) الإطلاق والمتابعة', p4_desc:'جدولة مهام دفعية (SFTP/CSV/XML)، تسليم الوثائق والدعم.',
        faq_title:'الأسئلة الشائعة',
        faq_q_int:'هل تتعامل مع تكاملات الشركات/الأنظمة لـ SAP B1؟',
        faq_a_int:'نعم. استيراد/تصدير CSV/XML، مهام SFTP، ربط إلى الحقول/الجداول، ومعالجة دفعية آمنة مع التسجيل وإعادة المحاولة.',
        faq_q4:'هل تعمل مع حزمة البلدان من coresuite؟',
        faq_a4:'نعم. تصميم النماذج وملفات الطباعة وتعديلات السكربت وتخصيص التقارير.',
        faq_q5:'هل يمكنك تحويل XML لقوائم FSM إلى B1 وإنشاء فواتير جماعية؟',
        faq_a5:'نعم. قراءة XML إلى الحقول/الجداول، ربط القيم بالمستندات، وإنشاء الفواتير بالمعالجة الدُفعية.',
        faq_q3:'هل تقدم تدريبات؟',
        faq_a3:'نعم، تدريبات للمستخدمين وورش قصيرة لأساسيات SAP B1 وتقارير ولوحات FSM‑CRD.',
        faq_q2:'ما نوع أعمال SAP B1 التي تقوم بها؟',
        faq_a2:'إضافات باستخدام SDK (UI/DI API)، تقارير Crystal، تقارير coresuite/Boyum، واستعلامات SQL ونماذج البيانات.',
        faq_q1:'هل تعمل عن بُعد وبأي لغات؟',
        faq_a1:'نعم، عن بُعد داخل ألمانيا/الاتحاد الأوروبي. أعمل بالعربية والألمانية والإنجليزية.',
        contact_title:'التواصل', disclaimer:'مستقل — غير تابع لشركة SAP SE.',
        template_title:'قالب بريد للاستفسار',
        template_hint:'انسخ القالب واملأ التفاصيل أو افتح بريدًا مُعبأ مسبقًا.',
        template_copy_btn:'نسخ', template_copied:'تم النسخ!',
        template_mail_btn:'فتح بريد مُعبأ'
      },
      'zh-CN': {
        nav_services:'服务', nav_process:'流程', nav_faq:'常见问题', nav_contact:'联系',
        tagline:'SAP Business One · SAP 现场服务管理',
        headline:'SAP B1 + FSM 自由职业者',
        lead:'使用 C#/.NET（UI API & DI API）的插件（SDK）· 公司系统集成/数据交换 · SQL 查询 · Crystal 报表 · coresuite & Boyum · SAP FSM 云端报表与看板（CRD）。',
        btn_contact:'发送邮件', btn_email:'邮件',
        services_title:'服务',
        svc1_title:'插件（SDK）',
        svc1_desc:'C#/.NET + UI/DI API · 规范界面、校验、后台任务与安全 COM 处理。',
        svc2a_title:'系统集成',
        svc2a_desc:'CSV/XML 导入导出、SFTP 任务、映射至 UDF/表，以及带日志/重试的安全批处理。',
        svc2_title:'报表',
        svc2_desc:'SAP B1 的 Crystal 报表 · coresuite 报表 · Boyum 打印。',
        svc3_title:'SQL',
        svc3_desc:'用于 B1 单据的查询、视图与高性能数据模型。',
        svc4_title:'FSM（CRD）',
        svc4_desc:'SAP FSM 云报表与看板（CRD）以及检查清单配置。',
        svc5_title:'支持',
        svc5_desc:'SAP B1 一线/二线支持 · 故障排查与文档。',
        svc6_title:'培训 / 工作坊',
        svc6_desc:'SAP B1 基础、Crystal 报表与 FSM‑CRD 看板的用户培训（沟通语言：EN/DE/AR）。',
        svc7_title:'coresuite 国家包',
        svc7_desc:'国家包布局与打印配置、脚本调整以及报表定制。',
        svc8_title:'FSM 检查清单 XML → B1 & 开票',
        svc8_desc:'解析检查清单 XML 到 UDF/表，映射到单据，并批量生成发票。',
        process_title:'流程',
        p1_title:'1) 需求沟通', p1_desc:'简短通话与样例文件；确定目标单据/UDF、数据量与时间表。',
        p2_title:'2) 映射与设计', p2_desc:'字段映射、校验规则，以及用于安全装载的暂存表/视图。',
        p3_title:'3) 开发与测试', p3_desc:'实现 SDK/查询/报表；运行测试批次并记录日志，可回滚。',
        p4_title:'4) 上线与监控', p4_desc:'计划批处理任务（SFTP/CSV/XML）、交付文档并提供支持。',
        faq_title:'常见问题',
        faq_q_int:'是否处理 SAP B1 的系统/公司集成？',
        faq_a_int:'是的。支持 CSV/XML 导入导出、SFTP 定时任务、映射到 UDF/表，以及带日志和重试的安全批处理。',
        faq_q4:'是否使用 coresuite 国家包？',
        faq_a4:'是的。提供布局、打印配置、脚本调整与报表定制。',
        faq_q5:'能否将 FSM 检查清单 XML 映射到 B1 并批量开票？',
        faq_a5:'可以。将 XML 解析到 UDF/表，映射到单据，并通过批处理生成发票。',
        contact_title:'联系', disclaimer:'独立个人，非 SAP SE 旗下。',
        template_title:'询盘邮件模板',
        template_hint:'复制此模板并填写，或打开已预填的邮件。',
        template_copy_btn:'复制', template_copied:'已复制！',
        template_mail_btn:'打开预填邮件'
      }
    };

    // Inquiry templates for each language
    const templates = {
      en: [
        'Your name:',
        'Company:',
        'Role:',
        'HR / procurement contact (optional):',
        'Language: EN / DE / AR',
        'Project type: (Add-on SDK / Report / Integration / FSM CRD / coresuite / Boyum)',
        'Scope / modules:',
        'Data volume (approx):',
        'B1 version (SQL/HANA):',
        'Timeline / deadline:',
        'Access (VPN / test system):',
        'Budget / price (hourly / fixed):',
        'Attachments: (XML/CSV samples, screenshots, field mapping)'
      ].join('\n'),
      de: [
        'Ihr Name:',
        'Firma:',
        'Rolle:',
        'HR / Einkauf (optional):',
        'Sprache: DE / EN / AR',
        'Projektart: (Add-on SDK / Reporting / Integration / FSM CRD / coresuite / Boyum)',
        'Umfang / Module:',
        'Datenmenge (ca.):',
        'B1-Version (SQL/HANA):',
        'Zeitplan / Deadline:',
        'Zugang (VPN / Testsystem):',
        'Budget / Preis (Stundensatz / Festpreis):',
        'Anhänge: (XML/CSV-Beispiele, Screenshots, Feld-Mapping)'
      ].join('\n'),
      ar: [
        'اسمك:',
        'الشركة:',
        'الوظيفة:',
        'مسؤول الموارد البشرية / المشتريات (اختياري):',
        'لغة التواصل: AR / DE / EN',
        'نوع المشروع: (إضافة SDK / تقرير / تكامل / FSM CRD / coresuite / Boyum)',
        'النطاق / الوحدات:',
        'حجم البيانات (تقريبًا):',
        'إصدار B1 (SQL/HANA):',
        'الجدول الزمني / الموعد النهائي:',
        'الوصول (VPN / نظام اختبار):',
        'الميزانية / السعر (بالساعة / ثابت):',
        'المرفقات: (عينات XML/CSV، لقطات شاشة، مخطط الحقول)'
      ].join('\n'),
      'zh-CN': [
        '姓名：',
        '公司：',
        '职位：',
        '人事/采购联系人（可选）：',
        '沟通语言：EN / DE / AR',
        '项目类型：（SDK 插件 / 报表 / 集成 / FSM CRD / coresuite / Boyum）',
        '范围 / 模块：',
        '数据量（约）：',
        'B1 版本（SQL/HANA）：',
        '时间计划 / 截止：',
        '访问方式（VPN / 测试系统）：',
        '预算 / 价格（时薪 / 固定）：',
        '附件：（XML/CSV 示例、截图、字段映射）'
      ].join('\n')
    };

    function setTemplate(lang){
      const code = lang;
      const ta = document.getElementById('inq-template');
      if(!ta) return;
      ta.value = templates[code] || templates.en;
      ta.dir = (code === 'ar') ? 'rtl' : 'ltr';
      const link = document.getElementById('mailto-prefill');
      if(link){
        const subj = 'SAP B1 / FSM Inquiry';
        const body = ta.value;
        link.href = 'mailto:SAPB1.Tarek.Fatal@outlook.com?subject=' + encodeURIComponent(subj) + '&body=' + encodeURIComponent(body);
      }
    }

    function applyLang(code){
      const normalized = code.toLowerCase().startsWith('zh') ? 'zh-CN' : code;
      const dict = t[normalized] || t.en;
      document.documentElement.lang = normalized;
      document.body.setAttribute('dir', normalized === 'ar' ? 'rtl' : 'ltr');
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(dict[key]) el.textContent = dict[key];
      });
      document.querySelectorAll('.lang button').forEach(b=> b.classList.toggle('active', b.dataset.lang===normalized));
      localStorage.setItem('lang', normalized);
      // update hreflang hrefs to reflect chosen lang
      document.querySelectorAll('link[rel="alternate"]').forEach(l=>{
        if(l.hreflang && ['en','de','ar','zh-CN','x-default'].includes(l.hreflang)){
          const lang = l.hreflang==='x-default' ? 'en' : l.hreflang;
          l.href = canon + '?lang=' + lang;
        }
      });
      setTemplate(normalized);
    }

    // init
    const raw = (navigator.language || 'en');
    const initial = raw.toLowerCase().startsWith('zh') ? 'zh-CN' : raw.slice(0,2);
    applyLang(['en','de','ar','zh-CN'].includes(initial) ? initial : 'en');

    // events
    document.querySelectorAll('.lang button').forEach(btn=> btn.addEventListener('click', ()=> applyLang(btn.dataset.lang)));
    const copyBtn = document.getElementById('copy-template');
    if(copyBtn){
      copyBtn.addEventListener('click', async ()=>{
        try{
          await navigator.clipboard.writeText(document.getElementById('inq-template').value);
          copyBtn.querySelector('span').textContent = (t[document.documentElement.lang]?.template_copied || 'Copied!');
          setTimeout(()=>{ copyBtn.querySelector('span').textContent = (t[document.documentElement.lang]?.template_copy_btn || 'Copy'); }, 1200);
        }catch(e){ /* ignore */ }
      });
    }
  </script>
</body>
</html>


